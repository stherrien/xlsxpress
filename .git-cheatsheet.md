# Git Commit Cheatsheet for XlsXpress

Quick reference for what to commit and what to ignore.

## ‚ùå NEVER Commit These

```bash
# Build artifacts
target/
*.so, *.dylib, *.pyd, *.dll
python/xlsxpress/*.so
dist/, build/
*.egg-info/

# Virtual environments
.venv/, venv/, ENV/

# IDE files
.idea/, .vscode/
*.swp, *.swo, *~

# Test coverage
htmlcov/, .coverage, .pytest_cache/

# OS files
.DS_Store, Thumbs.db

# Logs and temp files
*.log, *.tmp, *.bak

# Generated Excel files (except fixtures)
*.xlsx (not in tests/fixtures/)

# Secrets
.env, .env.local
```

## ‚úÖ ALWAYS Commit These

```bash
# Source code
src/**/*.rs
python/**/*.py
tests/**/*.py, tests/**/*.rs

# Configuration
Cargo.toml
pyproject.toml
Makefile
setup.sh
rust-toolchain.toml

# Documentation
README.md
CONTRIBUTING.md
PROJECT_STATUS.md
DEVELOPER_SETUP.md
TODO.md
REQUIREMENTS.md

# CI/CD
.github/workflows/*.yml
.github/*.md

# Tests
tests/fixtures/*.xlsx

# Git
.gitignore

# License
LICENSE
```

## üîç Before Committing

```bash
# 1. Check status
git status

# 2. See what changed
git diff

# 3. Check what will be committed
git diff --staged

# 4. Make sure tests pass
make test

# 5. Run quality checks
make check
```

## üìù Commit Message Format

```bash
git commit -m "type: Brief description

- Bullet point of what changed
- Another change
- Why this change was made"
```

**Types:** feat, fix, docs, style, refactor, test, chore

**Examples:**
```bash
# Feature
git commit -m "feat: Add Polars DataFrame integration"

# Bug fix
git commit -m "fix: Correct Reader cell indexing off-by-one error"

# Documentation
git commit -m "docs: Update installation instructions"

# Refactor
git commit -m "refactor: Simplify Writer error handling"

# Tests
git commit -m "test: Add integration tests for multi-sheet workbooks"

# Chore
git commit -m "chore: Update dependencies to latest versions"
```

## üö´ Common Mistakes

```bash
# DON'T commit build artifacts
git add target/  # ‚ùå

# DON'T commit your venv
git add .venv/   # ‚ùå

# DON'T commit IDE files
git add .idea/   # ‚ùå

# DON'T commit generated files
git add htmlcov/ # ‚ùå

# DO commit source and docs
git add src/     # ‚úÖ
git add README.md # ‚úÖ
```

## üßπ Clean Up Before Committing

```bash
# Remove build artifacts
make clean

# Check for ignored files that are tracked
git ls-files -i --exclude-from=.gitignore

# Remove accidentally tracked files
git rm --cached <file>

# Unstage files
git reset HEAD <file>
```

## üì¶ Creating a Release

```bash
# 1. Update version numbers
# - Cargo.toml
# - pyproject.toml

# 2. Update CHANGELOG.md

# 3. Run full test suite
make test
make check

# 4. Commit version bump
git add Cargo.toml pyproject.toml CHANGELOG.md
git commit -m "chore: Bump version to 0.1.0"

# 5. Create tag
git tag -a v0.1.0 -m "Release v0.1.0"

# 6. Push
git push origin main
git push origin v0.1.0
```

## üí° Quick Tips

- Run `make test` before every commit
- Keep commits small and focused
- Write clear commit messages
- Don't commit commented-out code
- Don't commit TODO comments (use TODO.md instead)
- Review your changes before committing (`git diff`)

---

**Need help?** See [CONTRIBUTING.md](CONTRIBUTING.md) for full guidelines.
